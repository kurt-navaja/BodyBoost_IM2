{% load static %}

<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="initial-scale=1, width=device-width">
  	
  	<link rel="stylesheet"  href="{% static '/css/settings.css' %}" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Outfit:wght@200;700&display=swap" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;800&display=swap" />
  	
    <style>
        .modal {
            display: none;
            position: absolute; /* Change to absolute positioning */
            z-index: 1;
            left: 52%; /* Adjust the position as needed */
            top: 13%; /* Adjust the position as needed */
            width: 350px;
            height: auto;
            background-color: white; /* Ensure the modal has a white background */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Add a shadow for better visibility */
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px;
            border: 1px solid #888;
            width: 100%;
            font-family: Arial, sans-serif;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .modal-content h2 {
            margin-top: 0;
            font-size: 28px;
            font-weight: bold;
            color: #333;
        }
        .modal-content p {
            margin: 20px 0;
            font-size: 18px;
        }
        .modal-content .user-name {
            font-weight: bold;
        }
    </style>
</head>
<body>
  	
  	<div class="macbook-air-1">
    		<div class="avatar-w-photo-parent">
      			<img class="avatar-w-photo" alt="" src="{% static 'images/settings/avatar settings.png' %}">

				<form method="post" enctype="multipart/form-data" action="" id="profile-photo-form">
					{% csrf_token %}
					<div class="profile-photo-container" onclick="document.getElementById('photo-upload').click();">
						<div class="profile-photo-upload">
							<img src="{% static 'images/settings/default-avatar.png' %}" 
								 alt="Profile Picture" 
								 id="profile-preview">
							<div class="profile-photo-overlay">
								<div class="profile-photo-text">Click to change profile photo</div>
							</div>
						</div>
						<input type="file" 
							   id="photo-upload" 
							   name="profile_photo" 
							   accept="image/*"
							   onchange="handlePhotoUpload(this)">
					</div>
				</form>
      			
                <a href="javascript:void(0);" id="bell-icon"><img class="bell-1-icon" alt="" src="{% static 'images/bell-1.png' %}" id="bell1Icon"></a>
                <div class="badges">
                    <div class="badge-label">3</div>
                </div>
      			
      			<div class="greetings">
        				<b class="welcome-back">Welcome Back!</b>
        				<div class="good-morning">Good  Morning</div>
      			</div>
      			<a href="{% url 'notifAll:settings' %}"><img class="iconsaxboldsetting2" alt="" src="{% static 'images/settings/setting2.png' %}"> </a>
      			
      			<div class="iconsaxlinearsearchnormal-parent">
        				<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/searchnormal.png' %}">
        				
        				<div class="search">Search</div>
      			</div>
    		</div>
    		<img class="avatar-w-photo1" alt="" src="{% static 'images/settings/AvatarB.png' %}" id="avatarBImage">
    		
    		<div class="side-bar">
      			<div class="frame-parent">
        				<div class="app-logo-parent">
          					<div class="app-logo">
            						<div class="fitness-parent">
              							<div class="fitness">BodyBoost </div>
              							<img class="workout-bold-icon" alt="" src="{% static 'images/settings/workout-bold-3.png' %}">
              							
            						</div>
          					</div>
          					<div class="button-parent">
            						<div class="button">
              							<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/dashbaord-2.png' %}">
              							<div class="overview">Overview</div>
            						</div>
                                    <a href="{% url 'notifAll:workout' %}">
                                        <div class="button1">
                                            <img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/workout.png' %}">
                                            <div class="overview">Workout</div>
                                        </div>
                                    </a>
            						<div class="button1">
              							<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/Dp.png' %}">
              							
              							<div class="overview">Diet Plan</div>
            						</div>
            						<div class="button1">
              							<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/Goals.png' %}">
              							
              							<div class="overview">Goals</div>
            						</div>
            						<div class="button1">
              							<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/Sched.png' %}">
              							
              							<div class="overview">My Schedule</div>
            						</div>
            						<div class="button1">
              							<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/Progress.png' %}">
              							
              							<div class="overview">Progress</div>
              							<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/rightArr.png' %}">
              							
            						</div>
            						<div class="frame-child">
            						</div>
          					</div>
        				</div>
        				<div class="frame-item">
        				</div>
      			</div>
      			<div class="button1">
        				<img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/help.png' %}">
        				
        				<div class="overview">Help</div>
      			</div>
                <a href="{% url 'login:login' %}">
                    <div class="button6">
                            <img class="iconsaxlinearsearchnormal" alt="" src="{% static 'images/settings/logout-2.png' %}">
                            <div class="overview">Logout</div>
                    </div>
                </a>
    		</div>
    		<div class="bodyboost22emailcom">bodyboost22@email.com</div>
    		<div class="here-you-can-container">
      			<p class="here-you-can">Here you can edit public information about yourself. </p>
      			<p class="here-you-can">The changes will be displayed for other users within 5 minutes.</p>
    		</div>
    		<div class="account-settings">Account Settings</div>
    		<div class="user-information">User Information</div>
    		<div class="email-address">Email Address</div>
    		<div class="profile-photo">Profile photo</div>
    		<div class="address">Address</div>
    		<div class="full-name">Full Name</div>
    		<img class="logopurple-icon" alt="" src="{% static 'images/settings/logoPurple.png' %}">
    		
    		<a href="{% url 'notifAll:firstP' %}"><img class="left-arrow-1-icon" alt="" src="{% static 'images/settings/LeftArrow.png' %}" id="leftArrow1Icon"></a>
    		
    		<div class="macbook-air-1-child">
    		</div>
    		<div class="macbook-air-1-item">
    		</div>
    		<div class="first-name">First Name</div>
    		<div class="macbook-air-1-inner">
    		</div>
    		<div class="country">Country</div>
    		<div class="rectangle-div">
    		</div>
    		<div class="city">City</div>
    		<div class="macbook-air-1-child1">
    		</div>
    		<div class="last-name">Last Name</div>
    		<div class="macbook-air-1-child2">
    		</div>
    		<div class="zip">ZIP</div>
    		<div class="macbook-air-1-child3">
    		</div>
    		<div class="street">Street</div>
    		<div class="macbook-air-1-child4">
    		</div>
  	</div>
  	
  	<div id="myModal" class="modal">
        <div class="modal-content">
            <h2>Notification</h2>
            <p>Workout Time!<br>Hey <span class="user-name">{{ request.user.first_name }}</span>, it’s time for your workout. Let’s go!</p>
            <hr>
            <p>Meal Time!<br>Time for a healthy meal, <span class="user-name">{{ request.user.first_name }}</span>. Enjoy!</p>
            <hr>
            <p>Keep It Up!<br>Great job, <span class="user-name">{{ request.user.first_name }}</span>! Keep going!</p>
        </div>
    </div>
  	
      <script>
        var avatarBImage = document.getElementById("avatarBImage");
        if (avatarBImage) {
            avatarBImage.addEventListener("click", function () {
                document.getElementById("avatarB-upload").click();
            });
        }
        
        var modal = document.getElementById("myModal");
        var btn = document.getElementById("bell-icon");
        var badge = document.querySelector(".badge-label");

        btn.onclick = function() {
            console.log("Bell icon clicked"); // Debugging line
            if (modal.style.display === "block") {
                modal.style.display = "none";
            } else {
                modal.style.display = "block";
                badge.style.display = "none";
            }
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
    </body>
</html>